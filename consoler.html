<!doctype html>
<html>
<head>
<style>
body {
	background-color: #240029;
	color: #dcdcdc;
	font-family: monospace;
}
</style>
<script>
var es = new EventSource('/events');
es.addEventListener('message', function(event) {
	console.log(event.data)
	var divEl = document.createElement('div');
	var line = event.data.substr(1)// Remove ^ char at the beginning
	divEl.innerText = line;
	var stdoutEl = document.getElementById('stdout');
	stdoutEl.appendChild(divEl)
}, false);

es.addEventListener('open', function() {
	console.log(arguments);
}, false);

es.addEventListener('error', function(e) {
	console.log(arguments);
  if (e.readyState == EventSource.CLOSED) {
    // Connection was closed.
  }
}, false);
</script>
</head>
<body>
<div id="stdout"></div>
</body>
</html>
